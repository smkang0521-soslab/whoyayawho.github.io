---
title: "[Web] 웹개발 환경구축"

sidebar:
    nav: "web"
---

<br/>

# 1. Node.js 설치

> 설치 참고 : [https://github.com/nodesource/distributions](https://github.com/nodesource/distributions)
{: .notice--info}

우분투에서 개발 환경을 구축하여 진행하고자 한다.

[Node.js](https://nodejs.org/en/) 홈페이지에서 LTS 버전을 확인한 후에 아래 명령어를 실행한다. 

아래 명령어에서 `setup_18.x` 부분은 버전에 맞게 수정한다.

```bash
$ curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
$ sudo apt install -y nodejs
```

<br/>


# 2. React 프로젝트 생성

> 설치 참고 : [https://create-react-app.dev/](https://create-react-app.dev/)
{: .notice--info}

아래 명령어를 실행하여 리액트 프로젝트를 생성한다.

`${프로젝트이름}` 부분은 생성하고자 하는 프로젝트 이름으로 수정한다. 

아래 명령어를 실행하면 `${프로젝트이름}` 이름의 폴더가 생성된다. 

```bash
$ npx create-react-app ${프로젝트이름} --template cra-template-pwa
```

생성된 폴더 내에서 `npm start` 명령어를 실행하면 실시간 미리보기가 가능하다.


PWA를 사용하기 위해 설치 명령어에 `--template cra-template-pwa`을 추가했으며, 추가로 `index.js` 하단의 
```javascript
serviceWorkerRegistration.unregister();
```
부분을
```javascript
serviceWorkerRegistration.register();
```
으로 수정하도록 한다.

<br/>


# 3. Bootstrap 설치

## (1) 설치

> 설치 참고 : [https://react-bootstrap.github.io/](https://react-bootstrap.github.io/)
{: .notice--info}

```bash
$ npm install react-bootstrap bootstrap
```

## (2) CSS 파일 추가

간혹 CSS 파일이 필요한 컴포넌트가 있기 때문에 `App.js` 파일 상단에 아래 코드를 입력해둔다.

```javascript
import 'bootstrap/dist/css/bootstrap.min.css';
```


## (3) 컴포넌트 사용

Bootstrap 컴포넌트 사용을 위해서는 사용하고자 하는 컴포넌트를 아래와 같이 import 해야 한다.

```javascript
import { Button } from 'react-bootstrap';
```

<br/>


# 4. AXIOS 설치

## (1) 설치 

> 설치 참고 : [https://axios-http.com/](https://axios-http.com/)
{: .notice--info}

아래 명령어를 통해 AJAX 외부라이브러리인 AXIOS를 설치한다. 

```bash
$ npm install axios 
```

## (2) 사용 시에 import 하기

axios를 사용할 때에는 아래 코드를 파일 상단에 입력하여 사용한다.

```javascript
import axios from 'axios'
```

<br/>


# 5. react-router-dom 설치

## (1) 설치 

> 설치 참고 : [https://reactrouter.com/](https://reactrouter.com/)
{: .notice--info}

리액트 라우팅을 위한 외부라이브러리를 설치한다. 

```bash
$ npm install react-router-dom@6
```

## (2) 셋팅

`src/index.js` 파일을 아래와 같이 수정한다.

```javascript
import { BrowserRouter } from "react-router-dom";

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
      <BrowserRouter>
        <App/>
      </BrowserRouter>
  </React.StrictMode>
); 
```

- `<BrowserRouter>`으로 `<App/>`을 감싸기


# 6. Redux toolkit 설치

## (1) 설치 

> 설치 참고 : [https://redux-toolkit.js.org/](https://redux-toolkit.js.org/)
{: .notice--info}

리액트의 state 사용을 편하게 하기 위해 Redux 개선 버전인 Redux toolkit을 설치한다.

```bash
$ npm install @reduxjs/toolkit
```

## (2) 셋팅

### a. `src/store.js` 파일 생성

`src/store.js` 파일을 만들어 아래와 같이 작성한다.

이 파일을 통해 state 들을 보관한다.

```javascript
import { configureStore } from '@reduxjs/toolkit'

export default configureStore({
  reducer: { }
}) 
```

### b. `src/index.js` 파일 수정

`src/index.js` 파일을 아래와 같이 수정한다.

```javascript
import { Provider } from "react-redux";
import store from './store.js'

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <React.StrictMode>
    <Provider store={store}>
      <BrowserRouter>
        <App/>
      </BrowserRouter>
    </Provider>
  </React.StrictMode>
); 
```

 - `import { Provider } from "react-redux";` 추가
 - `import store from './store.js'` 추가
 - `<Provider store={store}>`, `</Provider>`으로 `<App />` 부분을 감싸기

 <br/>


# 7. react-query 설치

## (1) 설치

> 설치 참고 : [https://tanstack.com/query/v4](https://tanstack.com/query/v4)
{: .notice--info}

실시간 데이터 ajax 처리 시에 편의성 향상을 준다는 react-query를 아래 명령어로 설치한다.

```bash
$ npm install @tanstack/react-query
```

## (2) 셋팅

### a. 사용 시에 import 하기

```javascript
import { QueryClient, QueryClientProvider, useQuery } from '@tanstack/react-query'
```

### b. `src/index.js` 수정

`src/index.js` 파일을 아래와 같이 수정한다.

```javascript
import { QueryClient, QueryClientProvider } from '@tanstack/react-query'
const queryClient = new QueryClient()

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <QueryClientProvider client={queryClient}>
    <Provider store={store}>
      <BrowserRouter>
        <App/>
      </BrowserRouter>
    </Provider>
  </QueryClientProvider>
); 
```

- `import { QueryClient, QueryClientProvider } from '@tanstack/react-query'` 추가
- `const queryClient = new QueryClient()` 추가
- `<QueryClientProvider client={queryClient}>`, `</QueryClientProvider>`으로 `<App/>` 부분 감싸기

## (3) 사용

`useQuery()`로 ajax 요청을 감싸서 사용한다.

```javascript
function App(){
  let result = useQuery('작명', ()=>
    axios.get('https://codingapple1.github.io/userdata.json')
    .then((a)=>{ return a.data })
  )

  return (
    <div>
      { result.isLoading && '로딩중' }
      { result.error && '에러남' }
      { result.data && result.data.name }
    </div>
  )
}
```
- ajax요청이 로딩중일 땐 `result.isLoading` 이 `true`
- ajax요청이 실패시엔 `result.error` 가 `true`
- ajax요청이 성공시엔 `result.data` 안에 데이터가 들어옴

<br/>


# 8. Express 서버 설치

## (1) 설치

```bash
$ npm init -y
$ npm install express
$ npm install cors
$ npm install -g nodemon
```

## (2) 서버 미리보기 실행

`server.js` 파일을 생성하여 아래 예시와 같이 작성한다.

```javascript
const express = require('express');
const path = require('path');
const app = express();
const cors = require('cors');

app.use(express.json());
app.use(cors());

app.listen(8080, function () {
  console.log('listening on 8080')
}); 
```

아래 명령어를 통해 미리보기를 실행한다. 

```bash
$ nodemon server.js
```

## (3) React 연동

`server.js` 파일이 있는 폴더 내에 연동할 리액트 프로젝트 폴더를 이동한다.

그 후에 `server.js` 파일에 아래와 같이 코드를 추가한다.

```javascript
app.use(express.static(path.join(__dirname, '${리액트프로젝트이름}/build')));

app.get('/', function (요청, 응답) {
  응답.sendFile(path.join(__dirname, '/${리액트프로젝트이름}/build/index.html'));
});
```

리액트에서 라우팅을 하게 하려면 `server.js` 파일의 가장 하단에 아래 코드를 추가한다.

```javascript
app.get('*', function (요청, 응답) {
  응답.sendFile(path.join(__dirname, '/${리액트프로젝트이름}/build/index.html'));
});
```

<br/>